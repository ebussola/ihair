'use strict';

describe('salon service', function () {

    beforeEach(function () {
        module('ihair');
    });

    describe('getSalonsByLocation', function () {
        it('should get the salons by location', inject(function ($httpBackend, SalonService) {
            $httpBackend.when('GET', '/api/salons?latlng=-22.123%2C-41.543&radius=200')
                .respond([{"geometry":{"location":{"lat":-22.931796,"lng":-43.180027}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"18515dcee3fb36285ce438a291e46dd3c1246489","name":"Studio de Beleza HB","opening_hours":{"open_now":false},"photos":[{"height":960,"html_attributions":[],"photo_reference":"CnRnAAAAi0QxAXG4M6SeqtXtRPXNwsDVG3H-VNrAaUsu2yPQp5nOQLSvBnYLBfdtNS7ZLmnm1kb4yLSvQ-JZrlMJbY4deTUmnQnUkGLkAfwVTyNQ0WBLaqpgmAga9wpdV-zQl1zGZuO_4iCJmUrIkvzmUS61-hIQTZUbPKVYven04z1Gg1uhmBoUO65tIjAGSWBv6M-KLPBOacdgfeE","width":1280}],"reference":"CoQBdQAAAGOuzO6cHgPLyaA4oN2IacBv30gc-R_cgHFO4z8e9UUECvtToRqJcu9NcMiv9WzoBhD5Z-9giT6aYXqDEJjFW6AoCEteJHgnaRv6DvLmfwGvoQkXUhYw1GCsR7cEfYmv6Q3qNvlzwpz_XnPNg66MnMeao4IrlnTEwLvvHi1tZ1oJEhArlgNLrTAMr5uuAAbXzeSbGhT_OaGBvW4ixr28Fow6LT33rFqeqw","types":["beauty_salon","establishment"],"vicinity":"Rua das Laranjeiras, 21 - Laranjeiras, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.933202,"lng":-43.177266}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"d32d5621dac95b93ec095ef50e8fd4383246e718","name":"Thiana's Coiffeur Ltda","opening_hours":{"open_now":false},"photos":[{"height":960,"html_attributions":[],"photo_reference":"CnRnAAAAu--Nyy4KBcX5mgw-cXhlFQrNB2qSJiVBvWB89DO06afDgw2SIAVyeFLRouEg7td5PdkH1sUshfJx3V-4RIGNYuijomYGhwwZQjKSF5X058r97firPX5r982nIJqwMGVapDS8zuxGxN9sKGy7Ie0VhxIQQmc-Pp-1bhzi5VFydggr0hoUz5sYcOXIxMCTiiRAw_xUuifQN7I","width":1280}],"reference":"CoQBdwAAAHLt4PQvoV486j-uzqIopH5NUK4ioT7hat5r2lgLSMUHuIPTDmei9jQrEYqRLkyfd3mC6o95eGY8kt6wrXLLKEU9dGvZuoovP5wQRFwhELk20TyqJgxHlNRwlU5uH7efrAGiCgu2pTROEiVguxMTiWVmtAaOBURJWZ9VnNE7ZZ_QEhBhs8bQaq0klIsygTxY_LZ5GhTrJhaq_9rQFAyR-mJr5jOBWzvpMw","types":["beauty_salon","establishment"],"vicinity":"Rua Marqu\u00eas de Abrantes, 38 - Flamengo, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.931766,"lng":-43.178672}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"b952ce1c0c6037aa4932d934cd16ac46e65d6996","name":"235 Salao","opening_hours":{"open_now":false},"photos":[{"height":720,"html_attributions":[],"photo_reference":"CnRlAAAAg4-GHrlzc04rPYUxBGObSgO9N80iM5MYwtu2uR6zDMZ_YvGikgWpBj0aDqcNIlB_txQS2Fyy22zKCkov1JsFZR_X2EljtKhuV9kQcg0lNdtamYb3otQC0H2l7yC8sNi8FKCgRus9AbGHZ3XvaTvnJRIQov0t2fXDRVBtjceR19eaZRoUA0yBRPqnYQTfM5DYvvTQ5wWl7vk","width":724}],"reference":"CnRrAAAALcTkD_O3mDQO3vqyGmuNcBT_RTreb8dNiNATw8xTUYXh5aYVzXcEgL1lSMOXH9JI5uC6qjmBr2xVREAr6KRe6Y2pFwnMvTbTXtQSD-6UcEXcZ3mlx9ywwBjkDixTx7Wpe7OBZ33X3z92r56HNIkG_xIQPDUBuqzuc2cJ-fVcREeAKhoUeheimk6VXDAlEM1AvOTWMEDAV_M","types":["beauty_salon","hair_care","establishment"],"vicinity":"Largo do Machado, 29 - Catete, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.932194,"lng":-43.177675}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"70bca672f4722aad0069609586b15d4adb5f264b","name":"Carminha Cabeleireiros","opening_hours":{"open_now":false},"reference":"CoQBeAAAADbH63W-hnqs8Zjz9r78ulzGvaGm8tB4X0DoWlK3wRaY7km1W7M5JL8XOMPsqR6dJ1Ga4Nz5v8nPC2VMFv6crAzrYR_V9Yt_TchJhEwtOPwkePYpv_t2w-FZty779gAEBWodK4073R8qVxnMkXFm0ge-LThuQnqK2-4c0gS-slDmEhDoguY4QiWRHU3Nk8q7AbyXGhSbfhQQv397CRKzocfPuO88gcXrng","types":["beauty_salon","establishment"],"vicinity":"Loja 8, Rua do Catete, 388 - Catete, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.934838,"lng":-43.180073}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"e8c1f497e24b87db88bdb038404e929dfd4d2c31","name":"Ana Cristina S\u00e1 Faria-Cabeleireira","reference":"CpQBhAAAAIywJWg3npN2qPqQlgW8PmrRLf13RvyDr_0g2jkWjhLAmg7sjHPdJR2szjOUl-Q9T9pBTR7i9FGatI3Lnk6MIKF4n0HbbEp7kesZ7y6jfW4zzrt1ManYAr2NeEVVmneEFpNdWS2JRUzERCo6TKNg10p1IC4NPjC9iEUa1l4K8Mcq55WD9_dz45Apldq5S5D4yRIQGSv8bWWdFYe-gk4Uyfj0phoU98UZ8qrNwYpqRACu6eskYTP9EV4","types":["beauty_salon","establishment"],"vicinity":"R. Sen Correia, 41 - Laranjeiras, Rio"},{"geometry":{"location":{"lat":-22.93452,"lng":-43.177516}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"8cf7ae15afdc767fc63fa8b1f2035135fb1bd87a","name":"Studio A Hair","opening_hours":{"open_now":false},"reference":"CnRuAAAAOLaDMwLoH9jdzqTg8-lfdm5bdnI6jQ1EBHZBrIqVU8L7TxU0VSmtU6UfG8udqTydQKOS156BFOH8On_1l2L6GjStmrstVzUgtFTMR6Y8HOwVvmzCK_cXlx_oTk2Z30FvAfylmKdV9TMqnPH7MiwdfxIQEGOJnP5jUhBzWezasygCSBoU7w8qo_pF88IdCcooCvYkGC50njo","types":["beauty_salon","establishment"],"vicinity":"Loja D, Rua Paissandu, 122 - Flamengo, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.931425,"lng":-43.177822}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"0369cbf01493eeb41e996b994356bf21e08b7d13","name":"Jupter II Cabeleireiros","reference":"CoQBeQAAAH_lTd-eDwempEqdKsg0hTdAsohasBt_xXZscEk6wmVx1T6dnWPMKqxjhQSMXLcBQhtfcg9y0UsunYcns7JxSNYDra0eNhCfje_JrhrK_VyNIgfqlHDaY58TkucLno0_lkhfGW4np4Ycx2jaU_utYOMTwd8e_3bC1D55q5goA62QEhB2xYG7pcNyAtr5-O1v_o3oGhT8akwGagRgCVRQSckbnuArQhv33g","types":["beauty_salon","establishment"],"vicinity":"Rua do Catete, 347 - Catete, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.934242,"lng":-43.177367}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"867eaa0cb45743df7c722203e24d197fbb40b71b","name":"Cida Est\u00e9tica e Sal\u00e3o","reference":"CoQBeQAAALjwqyDN-9lNB9s_GG_6M_-Bu5vsscWUd441kr1nKmnMwXkt8O5obVBqewh99PzP9ioIOuAUKZZdfRP0_OFjk6zNgpseDQ_xgm63e3XtsboFhpAZBVp5BSEkohlUMTKg_81uDs56TIWRY8h4KaErEW9XQRIaN2G878Z9O7uRfHZ-EhAJAtdgLqRgYt6aQIKCS6zNGhTDY2Xh4K1O7L_sy2toTXedzMy7yg","types":["beauty_salon","establishment"],"vicinity":"Loja E, Rua Marqu\u00eas de Abrantes, 26 - Flamengo, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.931632,"lng":-43.180139}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"3dbd2a9e2a28443082311336aecd65de742d914b","name":"Maria Estrela Cabeleireiros","opening_hours":{"open_now":false},"reference":"CoQBfAAAAHzz9gb04QWBXc4RaIYAgnJxu6FiRC1tpk_hK0MHyZLp0oz8ySV88PcdTmecJqrYqTDH9Z1dXStfLepNPDPsAZB0eAkkMnOJwWpb4ITmRIGUbCjHYunRWd-uuv5h4WTYbtAoQfzgCJpVIN0LF23SqrL1DsdOGAJ11P-ina8iH9agEhDjd4OdYPOQEfp5iP8EMFH9GhQiohrhBdc1S0jJJMUDUzBIa7LLfQ","types":["beauty_salon","restaurant","food","establishment"],"vicinity":"Rua das Laranjeiras"},{"geometry":{"location":{"lat":-22.933793,"lng":-43.1763}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"e2889f57579c415c1a60896233cddbcf19d7d881","name":"Emir Cabeleireiro","opening_hours":{"open_now":false},"reference":"CoQBcgAAADl1VVtJzsFB2xqFIomhnu7-Vew5AOg6-OD_tzk1wedBnXRo8LsfWu_eauQv4321TNQOgJWbxhqzligRV9aBRSflmIRQobFya6OxK_YgCdF7ALN7KPGRaM2wh-gp8jtSx_e5QjtQUA_HZGDkI4vrCTLYCT7jj_R9YaVvfHbh2h8TEhAdmC7z9_ihzyesiOFa_gFoGhTAEP_khn16WjqR6Lgs9KRS2sZI-Q","types":["beauty_salon","establishment"],"vicinity":"Rua Senador Vergueiro, 23 - Flamengo, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.933202,"lng":-43.177266}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"7e8b44bf41082730d27f4e7a14dca4eb46ef7ee6","name":"Slamor Cabeleireiros","reference":"CoQBdQAAACZaf5jumQX3OVsZkSqWsBqp-WnpDdxy8kw-F3kqRyfgR6D-d659dYaPbYhMwX_DgfATzMIGAuWd6QTfzk0gXdjvf1pbLvFe3RzvMZM5xFctu_gOYqOojwWIe84pU5okRHhDvu-8x78GOp4KR6-QoWY8cQ7mLmvObfPNlMvWSq-WEhASTvpe58No0DRMgyZAJ5aUGhQuUpnQHHV3MYjBzY90oQNhHRDqtA","types":["beauty_salon","establishment"],"vicinity":"Rua Marqu\u00eas de Abrantes, 38 - Flamengo, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.931536,"lng":-43.17781}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"efb09d6d5ab875d0d1cb0b39cd77ab159680de5d","name":"S\u00f3 Pello Instituto de Depila\u00e7\u00e3o","reference":"CpQBgwAAAJctZmYbwd0wEmOB0qbQCofbmLQdb9MlesssZIiwgaW11W3cKUa110TdLIl2XifqOYOgaLnf404N0J-CL1NftRvb61Mw-ikkX3cCphLcZw4tWxyZjY4loCZIiCEXA01kVapZK8RIOXQVkcWeoQJWjQ5s_4LGkoGRZnR4DBHRofseoC0zvoz0tkQcCM4alFaZ0hIQWg7Cpj_T4SwWRnJj0zFY8BoU3_6DY56d_wN6N-Xh_8iYwrCThnM","types":["beauty_salon","hair_care","establishment"],"vicinity":"Rua do Catete, 310 - Catete, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.931796,"lng":-43.180027}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"dd9209c61aeef9f3323f5ff3cc0d166e3660eae6","name":"Geralda dos Santos Oleg\u00e1rio","reference":"CoQBfQAAAKhObt8Cr9VOu24cmXPRzXfnB1B2cfqPofaixkKP5-y2LZ3OP1oVj-hrM9RcQeokNMUEV4c9FoAxrYinWVsXtzyZImDWBGOBuPY7zROI85D3cq7jt6Hj2jYgaq-_uiNGO9GBugK0lCl9tiGxpSNbbjzrtnNYdezo0DpmM0S3XXu5EhC9O649C1izUtexf-QprymmGhRGVeANjwyamJZNr5-vclb96ZzKjA","types":["beauty_salon","establishment"],"vicinity":"Rua das Laranjeiras, 21 - Laranjeiras, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.932194,"lng":-43.177675}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"70394a65aa0bf2e33646fcce7fed1741d9ac6d4b","name":"RB Hair","opening_hours":{"open_now":false},"reference":"CnRpAAAAZ-QW8vRWM1Ll7Oc74Th8WeYXiqBy7juTEs78gM5yZnMHClSIacQcghRkPX-uVh8gGp_n-TM5UyiAiQPjbddPWbxzqldImoGqd6go_zqoaOBcYzSLayosVymD6btJB7cRWKVDb_DaOnE6O5VmdzMm3BIQ5HX42Jo0-1hYM45QV-x85xoULn2LwRTw3hlPjZn__duTkwuFkxU","types":["beauty_salon","establishment"],"vicinity":"Loja 1, Rua do Catete, 338 - Catete, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.934242,"lng":-43.177367}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"5b337cb6711caa6fc42d285397f191095ec4b6ab","name":"DENGOSA CABELEIREIROS LTDA","reference":"CoQBfAAAAOMHcEy5-k2OaTA0zp5HMeWYiZWcQb72SMP4GO3bN5kzgu3mq0JXvv1tERRN0onULBJ-Sz4puo_m4I4ItmFInUR2C2fgamvEkiofV8Wx5cGFkL87h3WdqaEPQr8ImlFh87kKl2JqPeQGSXTPd430m3MBbTxEaOBtvXBLjxmUYX9AEhB_RxrlBi-UhhwZyfstWvdBGhT9DKManHXcPiPazlP8x9qbCEmqvw","types":["beauty_salon","establishment"],"vicinity":"Loja D, Rua Marqu\u00eas de Abrantes, 26 - Flamengo, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.931425,"lng":-43.177822}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"af47779e7631cec9de821621aff45f7d3fe01f56","name":"J\u00faptter II Cabeleireiros","reference":"CoQBegAAACim6M0lbMWx4Inc3j0DC9tL_zhMwSBZlXIEJc5scOgy9APlgg_yyzu3mTM3xgvX4Kp5Tob42JSgHIFPPixAiwPj8KzIIfZSmd8ffhBKqh9mSH2PuconJCikWLcjyiZbVBaV0qvcJlTjRIfa_z0E8OK2Er_XRC-ACxNDD29zMrEfEhCX-XVahOFZB1HJ2MI54b9vGhRJ_8TZCgbDAkRm2d_pr84LW0knEg","types":["beauty_salon","establishment"],"vicinity":"Rua do Catete, 347 - Catete, Rio"},{"geometry":{"location":{"lat":-22.931981,"lng":-43.177766}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"c8d49212320ae39b08d659d4d51663ae86cbe529","name":"MARAVILHAS cabeleireiros","opening_hours":{"open_now":false},"reference":"CoQBeQAAALGwfwcIFBxqyxxFZG1QkudIpPXomUARhegqXutC9xO3sY6ROCXNEMcPkRulBhLM1EqtQD33RzaSpyAePM3z24yl0URuSAjv2ktEUB01MiZndiCZEyl8YmX2GGhx_HVwV9gVv9W1NsjgD9WsS2WDkrNG8WyL33ZUi-Qme96jm5jsEhAvgGg-dCsLrgw3bB41P9eYGhRz-_GzDVHaMwZHVK3dU7CQK47AiA","types":["beauty_salon","establishment"],"vicinity":"Loja 60, Rua do Catete, 326 - Catete, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.931669,"lng":-43.179996}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/generic_business-71.png","id":"f1d98ca57a4afd41d2a76e9220c9699dea1b331c","name":"EDSON CABELEREIROS MANICURES","opening_hours":{"open_now":false},"reference":"CoQBfQAAAL3ZFOhEAKEjMOvJpUpKvK0Pcplwxf96jPIGmo8V5C9WreYKhuSlac9Wubkfo1mk10F7gIr38IubGQRzorsFahcRn7AQkfMxiamdGkllAwznx_COTU2G1RUpLJUaVOc4L5iTjhv5u1Rr7x4Q3PBG5a9W0e8tpQOoH7CNGA4frerjEhCsqovoBfNE3rWEe5pj6um5GhSMPbuzz8DT1ARigni1UoF3LQhRpw","types":["hair_care","establishment"],"vicinity":"Loja 1, Rua das Laranjeiras, 17 - Laranjeiras, Rio de Janeiro"},{"geometry":{"location":{"lat":-22.93483,"lng":-43.180083}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"7eb5b8bfd790461fc346416f25ee8a677ef59b45","name":"Beleza Viva","opening_hours":{"open_now":false},"reference":"CnRsAAAA1SDU-PWfqZOowzUmEY4VaRKhJkJ5jEVQzak6TXJzANrWYBUQ6I9Cxi9sqR4mS8_aYox8-vRF-Nm-h8rE0bkx0zWDCaPhJgeWXGD8B6Wr2WOc6cLzBE5ll8eex_Xevu_u0eIdm319ROxl2iIquXOJ1BIQNCenvJ_VrVxl4kT02GfFIRoUTaJJ8WgpiwTLrGBvWauBTNU03zQ","types":["beauty_salon","establishment"],"vicinity":"R. Sen. Correia, 41 - Laranjeiras, Rio"},{"geometry":{"location":{"lat":-22.931747,"lng":-43.180119}},"icon":"http:\/\/maps.gstatic.com\/mapfiles\/place_api\/icons\/barber-71.png","id":"f3e7ec0dd381a7f541c862301e7cd6fe6237c1e3","name":"SAL\u00c3O HOLLYWOOD","opening_hours":{"open_now":false},"reference":"CoQBcgAAAKJI9FAOt-d7pQ9_qdWOQZuq1TT3Qrk3CNmbVQzn72qK8rUFNH-eJZDolRN59zjMfKWx1vvCh01Ljo2gtTtgCzL2XCit1kW2uA8ckKKEMBJSzg8HYR0nTAUtcj2H8BJBLSUNSpqpoj2SboXfuHdMWwC2aWSzkBOtII1Mykqtu0ViEhDlJ7PDpB0pS7_aL1l9zVCOGhTTCaNNOx8fKUbmuWfhToSVgUdWMQ","types":["beauty_salon","establishment"],"vicinity":"Loja 33, Rua das Laranjeiras, 21 - Laranjeiras, Rio de Janeiro"}]);

            SalonService.getSalonsByLocation('-22.123,-41.543').then(function (data) {
                console.log(data);
                expect(Array.isArray(data)).toBe(true);
            });

            $httpBackend.flush();
        }));
    });

});
